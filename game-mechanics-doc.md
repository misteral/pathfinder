# Игровые механики "Клад короля пиратов"

## 1. Основные системы

### 1.1 Навигация по приключению
- **Структура разделов**: 25 нумерованных локаций с уникальным контентом
- **Система выборов**: От 1 до 4 вариантов действий в каждом разделе
- **Условные переходы**: Некоторые пути требуют наличия предметов или выполнения условий
- **Возврат к началу**: При смерти или завершении приключения

### 1.2 Боевая система (D&D-подобная)

#### Характеристики персонажа:
- **Класс Брони (КБ)**: 18
- **Пункты Здоровья (ПЗ)**: 20
- **Бонус атаки мечом**: +7/+2/-3 (для 1-й, 2-й и 3-й атаки)
- **Навыки**: Атлетика +7, Внимание +4, Стойкость +8, Реакция +5

#### Механика боя:
1. **Инициатива**: Проверка Внимания определяет порядок ходов
2. **Действия за ход**: 3 действия для игрока и противника
3. **Атака**: Бросок d20 + модификатор против КБ цели
4. **Урон**: При успешной атаке бросается кость урона
5. **Множественные атаки**: Штраф -5 за каждую дополнительную атаку

#### Специальные действия:
- **Укрытие**: Повышает КБ до 20 до следующего хода
- **Перемещение**: Тактическое позиционирование в бою
- **Использование предметов**: Костяной ключ против статуи

### 1.3 Система проверок навыков

#### Типы проверок:
- **Атлетика**: Плавание (СЛ 15), Захват (СЛ 20)
- **Внимание**: Поиск секретов (СЛ 15), Инициатива
- **Испытания**: Реакция (СЛ 17), Стойкость (СЛ 16)

#### Механика проверок:
1. Бросок d20
2. Добавление бонуса навыка
3. Сравнение с СЛ (Сложностью)
4. Успех при результате ≥ СЛ

### 1.4 Система инвентаря

#### Предметы в игре:
- **Костяной ключ**: Ключевой предмет для альтернативной победы над статуей
- **Факел**: Для растапливания льда и получения ключа
- **Монеты**: 
  - Медные (медяки)
  - Серебряные (1 серебряная = 10 медных)
  - Золотые (1 золотая = 10 серебряных)
- **Самоцветы**: Агаты (5 зол.), Рубин (20 зол.)

#### Условные предметы:
- Запись "Рычаг переключён" открывает новые пути
- Предметы влияют на доступные действия

## 2. Визуальные механики

### 2.1 Генерация иллюстраций
- **Для каждого раздела**: Уникальная сцена локации
- **Боевые сцены**: Визуализация противников и боевых ситуаций
- **Предметы**: Детализированные изображения находок
- **Карта пещеры**: Постепенно открывающаяся по мере исследования

### 2.2 Визуальные подсказки
- **Скрытые области**: Интерактивные зоны на изображениях
- **Подсвечивание**: Важных элементов при наведении
- **Анимации переходов**: Между локациями
- **Эффекты урона**: Визуальная обратная связь в бою

## 3. Аудио механики

### 3.1 Озвучка текста (TTS)
- **Рассказчик**: Основной текст приключения
- **Персонажи**: Уникальные голоса для врагов
- **Режимы озвучки**:
  - Автоматическое чтение
  - По требованию
  - Только диалоги

### 3.2 Звуковые эффекты
- **Окружение**: Звуки пещеры, воды, ветра
- **Боевые звуки**: Удары меча, рычание волка
- **Интерактивные звуки**: Звон монет, скрип рычага
- **UI звуки**: Клики, переходы, броски костей

## 4. Прогрессия и мета-игра

### 4.1 Система достижений
- **Исследователь**: Посетить все 25 локаций
- **Сборщик сокровищ**: Найти все 40 золотых в сокровищах
- **Выживший**: Пройти без единой смерти
- **Скоростной проход**: Завершить менее чем за 15 минут
- **Пацифист**: Избежать боя со статуей используя ключ

### 4.2 Разблокируемый контент
- **New Game+**: После первого прохождения
- **Режим сложности**: Враги сильнее, меньше подсказок
- **Альтернативные концовки**: 3 различных финала
- **Галерея**: Просмотр всех найденных иллюстраций

### 4.3 Статистика прохождения
- **Время игры**
- **Количество боёв**
- **Найденные сокровища**
- **Использованные предметы**
- **Пройденный путь на карте**

## 5. Интерфейс и управление

### 5.1 Режимы отображения
- **Классический**: Текст + иллюстрация
- **Иммерсивный**: Полноэкранные сцены
- **Компактный**: Для мобильных устройств
- **Доступный**: Увеличенные шрифты, высокий контраст

### 5.2 Управление
- **Мышь/тач**: Основной способ взаимодействия
- **Клавиатура**: Быстрые клавиши (1-4 для выборов)
- **Голосовое**: "Выбрать первый вариант"
- **Геймпад**: Поддержка контроллеров

## 6. Техническая реализация

### 6.1 Сохранение прогресса
- **Автосохранение**: После каждого выбора
- **Множественные слоты**: До 3 сохранений
- **Облачная синхронизация**: Между устройствами
- **Экспорт/импорт**: Сохранений в файл

### 6.2 Оптимизация
- **Предзагрузка**: Следующих возможных разделов
- **Кэширование**: Сгенерированных изображений и аудио
- **Адаптивное качество**: В зависимости от устройства
- **Оффлайн режим**: После первой загрузки

### 6.3 Аналитика
- **Тепловая карта**: Популярные пути прохождения
- **Статистика выборов**: Процент игроков для каждого решения
- **Точки отказа**: Где игроки чаще всего прекращают игру
- **A/B тестирование**: Различных подсказок и баланса